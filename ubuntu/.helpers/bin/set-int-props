#!/usr/bin/bash

PORTAL_INT_RESOURCES="$HOME/git/caasd-portal-integration-test/src/main/resources"

set_props_file() {
    local src=$1;
    local dest='portal.driver.properties';

    cp "$PORTAL_INT_RESOURCES/$src" "$PORTAL_INT_RESOURCES/$dest";
}

if [ -z "$1" ]; then
    echo "ERROR: Must pass a coordinate.";
    exit 1;
fi

if [ ! -d "$PORTAL_INT_RESOURCES" ]; then
    echo "ERROR: You must clone the portal-integration-test project to '$PORTAL_INT_RESOURCES'";
    exit 1;
fi

case $1 in
    'asias.localhost_lr7'*)
        set_props_file 'portal.driver.properties.asias.local';
        ;;
    'asias.dev_lr7'*)
        set_props_file 'portal.driver.properties.asias.dev_lr7';
        ;;
    'facility.dev_lr7'*)
        set_props_file 'portal.driver.properties.facility.dev_lr7';
        ;;
    'oversight.dev_lr7'*)
        set_props_file 'portal.driver.properties.oversight.dev_lr7';
        ;;
    *)
        echo "Invalid coordinate, '$1'";
        exit 1;
        ;;
esac

if [ "$?" != 0 ]; then
    echo "Fail!";
    exit 1;
fi

echo "Done!";
